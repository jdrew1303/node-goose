/*! node-goose 2016-05-25 */
var myApp=angular.module("myApp",["btford.socket-io","ngTouch","rzModule","ui.bootstrap"]);myApp.factory("mySocket",function(a){return a()});var base_query="http://localhost:80";myApp.controller("userCtrl",["$scope","$http","$interval","$timeout","$window","mySocket",function(a,b,c,d,e,f){var g=null;a.server_response=null,a.dobot_state=null,a.connectDobot=function(){f.emit("dobot client",{connect:!0}),e.updateStateResponseInterval=setInterval(function(){f.emit({getState:!0})},2e3)},a.disconnectDobot=function(){f.emit("dobot client",{disconnect:!0}),clearInterval(e.updateStateResponseInterval)},a.pauseDobot=function(){f.emit("dobot client",{pause:!0})},a.resumeDobot=function(){f.emit("dobot client",{resume:!0})},a.runStreamDobot=function(){f.emit("dobot client",{streamProgram:!0})},a.checkDobotState=function(){f.emit({getState:!0})},a.startCamera=function(){f.emit({startCamera:!0}),d(function(){g=c(function(){f.emit({getCamera:!0})},1e3)},2e3)},a.stopCamera=function(){angular.isDefined(g)&&(c.cancel(g),g=void 0)},a.startTrackFace=function(){f.emit({startFaceTracking:!0})},a.jogStop=function(){f.emit({jog:!0,axis:"STOP",direction:null})},a.jogXpos=function(){f.emit({jog:!0,axis:"X",direction:1})},a.jogXneg=function(){f.emit({jog:!0,axis:"X",direction:-1})},a.jogYpos=function(){f.emit({jog:!0,axis:"Y",direction:1})},a.jogYneg=function(){f.emit({jog:!0,axis:"Y",direction:-1})},a.jogZpos=function(){f.emit({jog:!0,axis:"Z",direction:1})},a.jogZneg=function(){f.emit({jog:!0,axis:"Z",direction:-1})},a.jogRpos=function(){f.emit({jog:!0,axis:"R",direction:1})},a.jogRneg=function(){f.emit({jog:!0,axis:"R",direction:-1})},a.jogGRPopen=function(){f.emit({jog:!0,axis:"GRP",direction:1})},a.jogGRPclose=function(){f.emit({jog:!0,axis:"GRP",direction:-1})},a.jogPUMPon=function(){f.emit({jog:!0,axis:"P",direction:1})},a.jogPUMPoff=function(){f.emit({jog:!0,axis:"P",direction:-1})},a.jogLSRon=function(){f.emit({jog:!0,axis:"LSR",direction:1})},a.jogLSRoff=function(){f.emit({jog:!0,axis:"LSR",direction:-1})},a.loadProgramDobot=function(){f.emit({loadProgram:!0})},a.runProgramDobot=function(){f.emit({runProgram:!0})},f.on("server response",function(b){b.message?console.log("message from server: "+b.message):b.dobotState?(a.state_x_pos=b.dobotState.x_pos.toFixed(1),a.state_y_pos=b.dobotState.y_pos.toFixed(1),a.state_z_pos=b.dobotState.z_pos.toFixed(1),a.state_head_rot=b.dobotState.head_rot.toFixed(1),a.state_base_angle=b.dobotState.base_angle.toFixed(1),a.state_long_arm_angle=b.dobotState.long_arm_angle.toFixed(1),a.state_short_arm_angle=b.dobotState.short_arm_angle.toFixed(1),a.state_paw_arm_angle=b.dobotState.paw_arm_angle.toFixed(1),a.state_is_grab=b.dobotState.is_grab,a.state_gripper_angle=b.dobotState.gripper_angle.toFixed(1),f.emit("dobot client",{message:"Client Received Dobot State"})):b.cameraImage&&(a.cameraImage=b.cameraImage)})}]);