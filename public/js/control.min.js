/*! node-goose 2016-05-16 */
var myApp=angular.module("myApp",["ngTouch","rzModule","ui.bootstrap"]),base_query="http://localhost:8080";myApp.controller("userCtrl",["$scope","$http","$interval","$timeout","$window",function(a,b,c,d,e){function f(c){b({method:"GET",url:c,config:""}).then(function(b){a.server_response=b},function(a){alert("there was an error with your request")})}function g(c){b({method:"GET",url:c,config:""}).then(function(b){a.state_x_pos=b.data.x_pos.toFixed(1),a.state_y_pos=b.data.y_pos.toFixed(1),a.state_z_pos=b.data.z_pos.toFixed(1),a.state_head_rot=b.data.head_rot.toFixed(1),a.state_base_angle=b.data.base_angle.toFixed(1),a.state_long_arm_angle=b.data.long_arm_angle.toFixed(1),a.state_short_arm_angle=b.data.short_arm_angle.toFixed(1),a.state_paw_arm_angle=b.data.paw_arm_angle.toFixed(1),a.state_is_grab=b.data.is_grab,a.state_gripper_angle=b.data.gripper_angle.toFixed(1)},function(a){alert("there was an error with your request")})}var h="http://localhost:8080/status/camera",i=null;a.server_response=null,a.dobot_state=null,a.connectDobot=function(){f(base_query+"/run/connect"),e.updateStateResponseInterval=setInterval(function(){g(base_query+"/status/state")},2e3)},a.disconnectDobot=function(){f(base_query+"/run/disconnect"),clearInterval(e.updateStateResponseInterval)},a.pauseDobot=function(){f(base_query+"/run/pause")},a.resumeDobot=function(){f(base_query+"/run/resume")},a.runStreamDobot=function(){f(base_query+"/run/streamProgram")},a.checkDobotState=function(){g(base_query+"/status/state")},a.startCamera=function(){f(base_query+"/run/startCamera"),d(function(){var b=0;i=c(function(){a.cameraImageSource=h+"?c="+b,100===b?b=0:b++},1e3)},2e3)},a.stopCamera=function(){angular.isDefined(i)&&(c.cancel(i),i=void 0)},a.startTrackFace=function(){f(base_query+"/run/startFaceTracking")},a.jogStop=function(){f(base_query+"/run/jog?axis=STOP")},a.jogXpos=function(){f(base_query+"/run/jog?axis=X&direction=1")},a.jogXneg=function(){f(base_query+"/run/jog?axis=X&direction=-1")},a.jogYpos=function(){f(base_query+"/run/jog?axis=Y&direction=1")},a.jogYneg=function(){f(base_query+"/run/jog?axis=Y&direction=-1")},a.jogZpos=function(){f(base_query+"/run/jog?axis=Z&direction=1")},a.jogZneg=function(){f(base_query+"/run/jog?axis=Z&direction=-1")},a.jogRpos=function(){f(base_query+"/run/jog?axis=R&direction=1")},a.jogRneg=function(){f(base_query+"/run/jog?axis=R&direction=-1")},a.jogGRPopen=function(){f(base_query+"/run/jog?axis=GRP&direction=1")},a.jogGRPclose=function(){f(base_query+"/run/jog?axis=GRP&direction=-1")},a.jogPUMPon=function(){f(base_query+"/run/jog?axis=P&direction=1")},a.jogPUMPoff=function(){f(base_query+"/run/jog?axis=P&direction=-1")},a.jogLSRon=function(){f(base_query+"/run/jog?axis=LSR&direction=1")},a.jogLSRoff=function(){f(base_query+"/run/jog?axis=LSR&direction=-1")},a.loadProgramDobot=function(){f(base_query+"/load/program")},a.runProgramDobot=function(){f(base_query+"/run/runProgram")}}]);