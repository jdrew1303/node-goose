/*! node-goose 2016-05-15 */
var myApp=angular.module("myApp",["ngTouch","rzModule","ui.bootstrap"]),base_query="http://localhost:8080";myApp.controller("userCtrl",["$scope","$http","$interval","$window",function(a,b,c,d){function e(c){b({method:"GET",url:c,config:""}).then(function(b){a.server_response=b},function(a){alert("there was an error with your request")})}function f(c){b({method:"GET",url:c,config:""}).then(function(b){a.state_x_pos=b.data.x_pos.toFixed(1),a.state_y_pos=b.data.y_pos.toFixed(1),a.state_z_pos=b.data.z_pos.toFixed(1),a.state_head_rot=b.data.head_rot.toFixed(1),a.state_base_angle=b.data.base_angle.toFixed(1),a.state_long_arm_angle=b.data.long_arm_angle.toFixed(1),a.state_short_arm_angle=b.data.short_arm_angle.toFixed(1),a.state_paw_arm_angle=b.data.paw_arm_angle.toFixed(1),a.state_is_grab=b.data.is_grab,a.state_gripper_angle=b.data.gripper_angle.toFixed(1)},function(a){alert("there was an error with your request")})}var g="http://localhost:8080/status/camera",h=null;a.server_response=null,a.dobot_state=null,a.connectDobot=function(){e(base_query+"/run/connect"),d.updateStateResponseInterval=setInterval(function(){f(base_query+"/status/state")},2e3)},a.disconnectDobot=function(){e(base_query+"/run/disconnect"),clearInterval(d.updateStateResponseInterval)},a.pauseDobot=function(){e(base_query+"/run/pause")},a.resumeDobot=function(){e(base_query+"/run/resume")},a.runStreamDobot=function(){e(base_query+"/run/streamProgram")},a.checkDobotState=function(){f(base_query+"/status/state")},a.startCamera=function(){e(base_query+"/run/startCamera");var b=0;h=c(function(){a.cameraImageSource=g+"?c="+b,100===b?b=0:b++},100)},a.stopCamera=function(){angular.isDefined(h)&&(c.cancel(h),h=void 0)},a.jogStop=function(){e(base_query+"/run/jog?axis=STOP")},a.jogXpos=function(){e(base_query+"/run/jog?axis=X&direction=1")},a.jogXneg=function(){e(base_query+"/run/jog?axis=X&direction=-1")},a.jogYpos=function(){e(base_query+"/run/jog?axis=Y&direction=1")},a.jogYneg=function(){e(base_query+"/run/jog?axis=Y&direction=-1")},a.jogZpos=function(){e(base_query+"/run/jog?axis=Z&direction=1")},a.jogZneg=function(){e(base_query+"/run/jog?axis=Z&direction=-1")},a.jogRpos=function(){e(base_query+"/run/jog?axis=R&direction=1")},a.jogRneg=function(){e(base_query+"/run/jog?axis=R&direction=-1")},a.jogGRPopen=function(){e(base_query+"/run/jog?axis=GRP&direction=1")},a.jogGRPclose=function(){e(base_query+"/run/jog?axis=GRP&direction=-1")},a.jogPUMPon=function(){e(base_query+"/run/jog?axis=P&direction=1")},a.jogPUMPoff=function(){e(base_query+"/run/jog?axis=P&direction=-1")},a.jogLSRon=function(){e(base_query+"/run/jog?axis=LSR&direction=1")},a.jogLSRoff=function(){e(base_query+"/run/jog?axis=LSR&direction=-1")},a.loadProgramDobot=function(){e(base_query+"/load/program")},a.runProgramDobot=function(){e(base_query+"/run/runProgram")}}]);